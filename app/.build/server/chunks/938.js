"use strict";exports.id=938,exports.ids=[938],exports.modules={79938:(e,s,a)=>{a.d(s,{Z:()=>w});var t=a(10326),r=a(17577),l=a(90772),i=a(54432),d=a(31048),n=a(33071),o=a(90220),c=a(77863);let m=r.forwardRef(({className:e,orientation:s="horizontal",decorative:a=!0,...r},l)=>t.jsx(o.f,{ref:l,decorative:a,orientation:s,className:(0,c.cn)("shrink-0 bg-border","horizontal"===s?"h-[1px] w-full":"h-full w-[1px]",e),...r}));m.displayName=o.f.displayName;var u=a(567),x=a(85999),f=a(79635),p=a(30361),h=a(41291),g=a(5932),v=a(42887),j=a(59734),N=a(47546),b=a(54014),y=a(77636);function w({onSuccess:e,isInitialSetup:s=!1}){let[a,o]=(0,r.useState)({firstName:"",lastName:"",email:"",jobTitle:"",company:"",phone:"",address:"",city:"",state:"",zipCode:"",website:""}),[c,w]=(0,r.useState)(!1),[C,Z]=(0,r.useState)(!0),[I,S]=(0,r.useState)({}),F=()=>{let e={};return a.firstName.trim()||(e.firstName="First name is required"),a.lastName.trim()||(e.lastName="Last name is required"),a.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a.email)||(e.email="Please enter a valid email address"):e.email="Email is required",a.website&&!/^https?:\/\/.+/.test(a.website)&&(e.website="Website must start with http:// or https://"),S(e),0===Object.keys(e).length},P=async s=>{if(s.preventDefault(),!F()){x.Am.error("Please fix the errors in the form");return}w(!0),S({});try{let s=await fetch("/api/profile",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),t=await s.json();if(s.ok&&t.success)x.Am.success(t.message||"Profile updated successfully!"),e?.();else{if(t.details){let e={};t.details.forEach(s=>{s.path&&s.path.length>0&&(e[s.path[0]]=s.message)}),S(e)}x.Am.error(t.error||"Failed to update profile")}}catch(e){console.error("Error updating profile:",e),x.Am.error("An unexpected error occurred")}finally{w(!1)}},z=(e,s)=>{o(a=>({...a,[e]:s})),I[e]&&S(s=>({...s,[e]:""}))};return C?(0,t.jsxs)(n.Zb,{className:"w-full max-w-4xl mx-auto",children:[t.jsx(n.Ol,{children:(0,t.jsxs)(n.ll,{className:"flex items-center gap-2",children:[t.jsx(f.Z,{className:"h-5 w-5"}),"Loading Profile..."]})}),t.jsx(n.aY,{children:t.jsx("div",{className:"space-y-4",children:Array.from({length:6}).map((e,s)=>(0,t.jsxs)("div",{className:"animate-pulse",children:[t.jsx("div",{className:"h-4 bg-muted rounded w-1/4 mb-2"}),t.jsx("div",{className:"h-10 bg-muted rounded"})]},s))})})]}):(0,t.jsxs)(n.Zb,{className:"w-full max-w-4xl mx-auto",children:[(0,t.jsxs)(n.Ol,{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx(f.Z,{className:"h-5 w-5 text-blue-600"}),t.jsx(n.ll,{children:s?"Complete Your Profile Setup":"Profile Management"})]}),a.profileSetupComplete&&!s&&(0,t.jsxs)(u.C,{variant:"secondary",className:"flex items-center gap-1",children:[t.jsx(p.Z,{className:"h-3 w-3"}),"Complete"]})]}),t.jsx(n.SZ,{children:s?"Set up your profile to personalize your PipelinePro OS experience.":"Update your personal and business information."})]}),t.jsx(n.aY,{children:(0,t.jsxs)("form",{onSubmit:P,className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h3",{className:"text-lg font-medium flex items-center gap-2 mb-4",children:[t.jsx(f.Z,{className:"h-4 w-4"}),"Personal Information"]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[t.jsx(d._,{htmlFor:"firstName",children:"First Name *"}),t.jsx(i.I,{id:"firstName",value:a.firstName,onChange:e=>z("firstName",e.target.value),className:I.firstName?"border-destructive":"",placeholder:"Enter your first name"}),I.firstName&&(0,t.jsxs)("p",{className:"text-sm text-destructive mt-1 flex items-center gap-1",children:[t.jsx(h.Z,{className:"h-3 w-3"}),I.firstName]})]}),(0,t.jsxs)("div",{children:[t.jsx(d._,{htmlFor:"lastName",children:"Last Name *"}),t.jsx(i.I,{id:"lastName",value:a.lastName,onChange:e=>z("lastName",e.target.value),className:I.lastName?"border-destructive":"",placeholder:"Enter your last name"}),I.lastName&&(0,t.jsxs)("p",{className:"text-sm text-destructive mt-1 flex items-center gap-1",children:[t.jsx(h.Z,{className:"h-3 w-3"}),I.lastName]})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[t.jsx(d._,{htmlFor:"email",children:"Email Address *"}),(0,t.jsxs)("div",{className:"relative",children:[t.jsx(g.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),t.jsx(i.I,{id:"email",type:"email",value:a.email,onChange:e=>z("email",e.target.value),className:`pl-10 ${I.email?"border-destructive":""}`,placeholder:"Enter your email address"})]}),I.email&&(0,t.jsxs)("p",{className:"text-sm text-destructive mt-1 flex items-center gap-1",children:[t.jsx(h.Z,{className:"h-3 w-3"}),I.email]})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[t.jsx(d._,{htmlFor:"phone",children:"Phone Number"}),(0,t.jsxs)("div",{className:"relative",children:[t.jsx(v.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),t.jsx(i.I,{id:"phone",value:a.phone,onChange:e=>z("phone",e.target.value),className:"pl-10",placeholder:"(555) 123-4567"})]})]})]})]}),t.jsx(m,{}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h3",{className:"text-lg font-medium flex items-center gap-2 mb-4",children:[t.jsx(j.Z,{className:"h-4 w-4"}),"Business Information"]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[t.jsx(d._,{htmlFor:"jobTitle",children:"Job Title"}),(0,t.jsxs)("div",{className:"relative",children:[t.jsx(N.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),t.jsx(i.I,{id:"jobTitle",value:a.jobTitle,onChange:e=>z("jobTitle",e.target.value),className:"pl-10",placeholder:"e.g., Loan Officer, Business Development Manager"})]})]}),(0,t.jsxs)("div",{children:[t.jsx(d._,{htmlFor:"company",children:"Company"}),(0,t.jsxs)("div",{className:"relative",children:[t.jsx(j.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),t.jsx(i.I,{id:"company",value:a.company,onChange:e=>z("company",e.target.value),className:"pl-10",placeholder:"Commercial Capital Connect"})]})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[t.jsx(d._,{htmlFor:"website",children:"Website"}),(0,t.jsxs)("div",{className:"relative",children:[t.jsx(b.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),t.jsx(i.I,{id:"website",value:a.website,onChange:e=>z("website",e.target.value),className:`pl-10 ${I.website?"border-destructive":""}`,placeholder:"https://example.com"})]}),I.website&&(0,t.jsxs)("p",{className:"text-sm text-destructive mt-1 flex items-center gap-1",children:[t.jsx(h.Z,{className:"h-3 w-3"}),I.website]})]})]})]}),t.jsx(m,{}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h3",{className:"text-lg font-medium flex items-center gap-2 mb-4",children:[t.jsx(y.Z,{className:"h-4 w-4"}),"Address Information"]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"md:col-span-2",children:[t.jsx(d._,{htmlFor:"address",children:"Street Address"}),t.jsx(i.I,{id:"address",value:a.address,onChange:e=>z("address",e.target.value),placeholder:"123 Main Street"})]}),(0,t.jsxs)("div",{children:[t.jsx(d._,{htmlFor:"city",children:"City"}),t.jsx(i.I,{id:"city",value:a.city,onChange:e=>z("city",e.target.value),placeholder:"Los Angeles"})]}),(0,t.jsxs)("div",{children:[t.jsx(d._,{htmlFor:"state",children:"State"}),t.jsx(i.I,{id:"state",value:a.state,onChange:e=>z("state",e.target.value),placeholder:"CA"})]}),(0,t.jsxs)("div",{children:[t.jsx(d._,{htmlFor:"zipCode",children:"ZIP Code"}),t.jsx(i.I,{id:"zipCode",value:a.zipCode,onChange:e=>z("zipCode",e.target.value),placeholder:"90210"})]})]})]}),t.jsx("div",{className:"flex justify-end gap-3 pt-6",children:t.jsx(l.z,{type:"submit",disabled:c,className:"min-w-[120px]",children:c?"Saving...":s?"Complete Setup":"Update Profile"})})]})})]})}},567:(e,s,a)=>{a.d(s,{C:()=>d});var t=a(10326);a(17577);var r=a(28671),l=a(77863);let i=(0,r.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function d({className:e,variant:s,...a}){return t.jsx("div",{className:(0,l.cn)(i({variant:s}),e),...a})}},90772:(e,s,a)=>{a.d(s,{z:()=>o});var t=a(10326),r=a(17577),l=a(34214),i=a(28671),d=a(77863);let n=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=r.forwardRef(({className:e,variant:s,size:a,asChild:r=!1,...i},o)=>{let c=r?l.g7:"button";return t.jsx(c,{className:(0,d.cn)(n({variant:s,size:a,className:e})),ref:o,...i})});o.displayName="Button"},33071:(e,s,a)=>{a.d(s,{Ol:()=>d,SZ:()=>o,Zb:()=>i,aY:()=>c,ll:()=>n});var t=a(10326),r=a(17577),l=a(77863);let i=r.forwardRef(({className:e,...s},a)=>t.jsx("div",{ref:a,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...s}));i.displayName="Card";let d=r.forwardRef(({className:e,...s},a)=>t.jsx("div",{ref:a,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",e),...s}));d.displayName="CardHeader";let n=r.forwardRef(({className:e,...s},a)=>t.jsx("h3",{ref:a,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",e),...s}));n.displayName="CardTitle";let o=r.forwardRef(({className:e,...s},a)=>t.jsx("p",{ref:a,className:(0,l.cn)("text-sm text-muted-foreground",e),...s}));o.displayName="CardDescription";let c=r.forwardRef(({className:e,...s},a)=>t.jsx("div",{ref:a,className:(0,l.cn)("p-6 pt-0",e),...s}));c.displayName="CardContent",r.forwardRef(({className:e,...s},a)=>t.jsx("div",{ref:a,className:(0,l.cn)("flex items-center p-6 pt-0",e),...s})).displayName="CardFooter"},54432:(e,s,a)=>{a.d(s,{I:()=>i});var t=a(10326),r=a(17577),l=a(77863);let i=r.forwardRef(({className:e,type:s,...a},r)=>t.jsx("input",{type:s,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...a}));i.displayName="Input"},31048:(e,s,a)=>{a.d(s,{_:()=>o});var t=a(10326),r=a(17577),l=a(34478),i=a(28671),d=a(77863);let n=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=r.forwardRef(({className:e,...s},a)=>t.jsx(l.f,{ref:a,className:(0,d.cn)(n(),e),...s}));o.displayName=l.f.displayName}};
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[780],{2629:function(e,s,t){Promise.resolve().then(t.bind(t,2854))},2854:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return y}});var a=t(7437),l=t(2265),r=t(4743),i=t(1723),n=t(1671),c=t(9322),d=t(9397),x=t(5252),m=t(3247),o=t(8420),u=t(1047),h=t(2369),p=t(2869),j=t(5186),g=t(6070),N=t(5974),f=t(3647),b=t(2339);let v=[{value:"partner_a",label:"Healthcare Finance Partners"},{value:"partner_b",label:"Medical Equipment Lending"},{value:"partner_c",label:"Practice Growth Capital"},{value:"partner_d",label:"Dental Investment Group"},{value:"partner_e",label:"Veterinary Capital Solutions"}];function y(){let[e,s]=(0,l.useState)([]),[t,y]=(0,l.useState)(!0),[w,Z]=(0,l.useState)(""),[S,k]=(0,l.useState)("all"),[C,A]=(0,l.useState)("all");(0,l.useEffect)(()=>{_()},[]);let _=async()=>{try{let e=await fetch("/api/submissions");if(e.ok){let t=await e.json();s(t.submissions||[])}}catch(e){console.error("Error fetching submissions:",e)}finally{y(!1)}},L=e?.filter(e=>{let s=e?.businessName?.toLowerCase().includes(w?.toLowerCase())||e?.prospectName?.toLowerCase().includes(w?.toLowerCase())||e?.lendingPartner?.toLowerCase().includes(w?.toLowerCase()),t="all"===S||e?.lendingPartner===S,a="all"===C||e?.status===C;return s&&t&&a})||[],P=e=>{switch(e?.toLowerCase()){case"submitted":return"bg-blue-100 text-blue-800";case"under_review":return"bg-yellow-100 text-yellow-800";case"approved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";case"pending_info":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},D=e=>{switch(e?.toLowerCase()){case"submitted":default:return(0,a.jsx)(r.Z,{className:"h-4 w-4"});case"under_review":return(0,a.jsx)(i.Z,{className:"h-4 w-4"});case"approved":return(0,a.jsx)(n.Z,{className:"h-4 w-4"});case"rejected":case"pending_info":return(0,a.jsx)(c.Z,{className:"h-4 w-4"})}},q=e=>{let s=new Date(e);return Math.ceil(Math.abs(new Date().getTime()-s.getTime())/864e5)},Y=L?.filter(e=>e?.status==="submitted")?.length||0,M=L?.filter(e=>e?.status==="under_review")?.length||0,z=L?.filter(e=>e?.status==="approved")?.length||0,R=L?.filter(e=>e?.status==="rejected")?.length||0;return t?(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(r.Z,{className:"h-8 w-8 animate-spin mx-auto mb-2 text-blue-600"}),(0,a.jsx)("p",{className:"text-gray-500",children:"Loading submissions..."})]})}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"CCC Lending Submissions"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Submit applications to CCC's lending partners"})]}),(0,a.jsxs)(p.z,{className:"bg-blue-600 hover:bg-blue-700",children:[(0,a.jsx)(d.Z,{className:"h-4 w-4 mr-2"}),"New Submission"]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,a.jsx)(g.Zb,{children:(0,a.jsx)(g.aY,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(r.Z,{className:"h-5 w-5 text-blue-600"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-2xl font-bold",children:Y}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Submitted"})]})]})})}),(0,a.jsx)(g.Zb,{children:(0,a.jsx)(g.aY,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(i.Z,{className:"h-5 w-5 text-yellow-600"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-2xl font-bold",children:M}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Under Review"})]})]})})}),(0,a.jsx)(g.Zb,{children:(0,a.jsx)(g.aY,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(n.Z,{className:"h-5 w-5 text-green-600"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-2xl font-bold",children:z}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Approved"})]})]})})}),(0,a.jsx)(g.Zb,{children:(0,a.jsx)(g.aY,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(x.Z,{className:"h-5 w-5 text-purple-600"}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"text-2xl font-bold",children:["$",L?.reduce((e,s)=>e+(s?.requestedAmount||0),0)?.toLocaleString()||0]}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Total Requested"})]})]})})})]}),(0,a.jsx)(g.Zb,{children:(0,a.jsx)(g.aY,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(m.Z,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),(0,a.jsx)(j.I,{placeholder:"Search submissions by business, prospect, or partner...",value:w,onChange:e=>Z(e.target.value),className:"pl-10"})]})}),(0,a.jsxs)(f.Ph,{value:S,onValueChange:k,children:[(0,a.jsx)(f.i4,{className:"w-full md:w-48",children:(0,a.jsx)(f.ki,{placeholder:"Filter by partner"})}),(0,a.jsxs)(f.Bw,{children:[(0,a.jsx)(f.Ql,{value:"all",children:"All Partners"}),v.map(e=>(0,a.jsx)(f.Ql,{value:e.value,children:e.label},e.value))]})]}),(0,a.jsxs)(f.Ph,{value:C,onValueChange:A,children:[(0,a.jsx)(f.i4,{className:"w-full md:w-48",children:(0,a.jsx)(f.ki,{placeholder:"Filter by status"})}),(0,a.jsxs)(f.Bw,{children:[(0,a.jsx)(f.Ql,{value:"all",children:"All Statuses"}),(0,a.jsx)(f.Ql,{value:"submitted",children:"Submitted"}),(0,a.jsx)(f.Ql,{value:"under_review",children:"Under Review"}),(0,a.jsx)(f.Ql,{value:"approved",children:"Approved"}),(0,a.jsx)(f.Ql,{value:"rejected",children:"Rejected"}),(0,a.jsx)(f.Ql,{value:"pending_info",children:"Pending Info"})]})]})]})})}),(0,a.jsxs)(b.mQ,{defaultValue:"all",className:"space-y-4",children:[(0,a.jsxs)(b.dr,{children:[(0,a.jsx)(b.SP,{value:"all",children:"All Submissions"}),(0,a.jsxs)(b.SP,{value:"active",children:["Active (",Y+M,")"]}),(0,a.jsxs)(b.SP,{value:"approved",children:["Approved (",z,")"]}),(0,a.jsxs)(b.SP,{value:"rejected",children:["Rejected (",R,")"]})]}),(0,a.jsx)(b.nU,{value:"all",className:"space-y-4",children:L?.length===0?(0,a.jsx)(g.Zb,{children:(0,a.jsxs)(g.aY,{className:"p-8 text-center",children:[(0,a.jsx)(r.Z,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No submissions found"}),(0,a.jsx)("p",{className:"text-gray-500 mb-4",children:"Start submitting qualified prospects to lending partners."}),(0,a.jsxs)(p.z,{className:"bg-blue-600 hover:bg-blue-700",children:[(0,a.jsx)(d.Z,{className:"h-4 w-4 mr-2"}),"Create First Submission"]})]})}):L?.map(e=>a.jsx(g.Zb,{className:"hover:shadow-md transition-shadow",children:a.jsx(g.aY,{className:"p-6",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[a.jsx("div",{className:"bg-blue-100 p-2 rounded-lg",children:D(e?.status)}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e?.businessName}),a.jsx("p",{className:"text-gray-600",children:e?.prospectName})]}),a.jsx(N.C,{className:P(e?.status),children:e?.status?.replace("_"," ")||"Submitted"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(o.Z,{className:"h-4 w-4 text-gray-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Lending Partner"}),a.jsx("p",{className:"text-sm font-medium",children:v.find(s=>s.value===e?.lendingPartner)?.label||e?.lendingPartner})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(x.Z,{className:"h-4 w-4 text-gray-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Requested Amount"}),a.jsxs("p",{className:"text-sm font-medium",children:["$",e?.requestedAmount?.toLocaleString()]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(u.Z,{className:"h-4 w-4 text-gray-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Submitted"}),a.jsxs("p",{className:"text-sm font-medium",children:[new Date(e?.submittedAt).toLocaleDateString()," (",q(e?.submittedAt)," days ago)"]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(h.Z,{className:"h-4 w-4 text-gray-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Submitted By"}),a.jsx("p",{className:"text-sm font-medium",children:e?.submittedBy})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-6 mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Qualification Score:"}),a.jsxs("span",{className:"text-sm font-medium text-blue-600",children:[e?.qualificationScore,"%"]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Documents:"}),a.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[e?.documents," files"]})]}),e?.expectedDecision&&a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Expected Decision:"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:new Date(e.expectedDecision).toLocaleDateString()})]})]}),e?.notes&&a.jsx("div",{className:"bg-gray-50 p-3 rounded-lg",children:a.jsx("p",{className:"text-sm text-gray-700",children:e.notes})})]}),a.jsxs("div",{className:"flex flex-col space-y-2 ml-4",children:[a.jsx(p.z,{size:"sm",variant:"outline",children:"View Details"}),e?.status==="pending_info"&&a.jsx(p.z,{size:"sm",className:"bg-orange-600 hover:bg-orange-700",children:"Update Info"}),(e?.status==="submitted"||e?.status==="under_review")&&a.jsx(p.z,{size:"sm",variant:"outline",children:"Check Status"})]})]})})},e?.id))}),(0,a.jsx)(b.nU,{value:"active",className:"space-y-4",children:L?.filter(e=>e?.status==="submitted"||e?.status==="under_review")?.map(e=>a.jsx(g.Zb,{className:"hover:shadow-md transition-shadow border-blue-200",children:a.jsx(g.aY,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"bg-blue-100 p-2 rounded-lg",children:D(e?.status)}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e?.businessName}),a.jsx("p",{className:"text-gray-600",children:e?.prospectName}),a.jsxs("p",{className:"text-sm text-gray-500",children:[v.find(s=>s.value===e?.lendingPartner)?.label," - $",e?.requestedAmount?.toLocaleString()]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx(N.C,{className:P(e?.status),children:e?.status?.replace("_"," ")}),a.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Day ",q(e?.submittedAt)," in process"]})]})]})})},e?.id))||(0,a.jsx)(g.Zb,{children:(0,a.jsxs)(g.aY,{className:"p-8 text-center",children:[(0,a.jsx)(i.Z,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No active submissions"}),(0,a.jsx)("p",{className:"text-gray-500",children:"Active submissions will appear here."})]})})}),(0,a.jsx)(b.nU,{value:"approved",className:"space-y-4",children:L?.filter(e=>e?.status==="approved")?.map(e=>a.jsx(g.Zb,{className:"hover:shadow-md transition-shadow border-green-200",children:a.jsx(g.aY,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"bg-green-100 p-2 rounded-lg",children:a.jsx(n.Z,{className:"h-5 w-5 text-green-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e?.businessName}),a.jsx("p",{className:"text-gray-600",children:e?.prospectName}),a.jsxs("p",{className:"text-sm text-gray-500",children:[v.find(s=>s.value===e?.lendingPartner)?.label," - $",e?.requestedAmount?.toLocaleString()]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx(N.C,{className:"bg-green-100 text-green-800",children:"Approved"}),a.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Approved on ",new Date(e?.lastUpdate||e?.submittedAt).toLocaleDateString()]})]})]})})},e?.id))||(0,a.jsx)(g.Zb,{children:(0,a.jsxs)(g.aY,{className:"p-8 text-center",children:[(0,a.jsx)(n.Z,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No approved submissions yet"}),(0,a.jsx)("p",{className:"text-gray-500",children:"Approved loan applications will appear here."})]})})}),(0,a.jsx)(b.nU,{value:"rejected",className:"space-y-4",children:L?.filter(e=>e?.status==="rejected")?.map(e=>a.jsx(g.Zb,{className:"hover:shadow-md transition-shadow border-red-200",children:a.jsx(g.aY,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"bg-red-100 p-2 rounded-lg",children:a.jsx(c.Z,{className:"h-5 w-5 text-red-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e?.businessName}),a.jsx("p",{className:"text-gray-600",children:e?.prospectName}),a.jsxs("p",{className:"text-sm text-gray-500",children:[v.find(s=>s.value===e?.lendingPartner)?.label," - $",e?.requestedAmount?.toLocaleString()]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx(N.C,{className:"bg-red-100 text-red-800",children:"Rejected"}),a.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Rejected on ",new Date(e?.lastUpdate||e?.submittedAt).toLocaleDateString()]})]})]})})},e?.id))||(0,a.jsx)(g.Zb,{children:(0,a.jsxs)(g.aY,{className:"p-8 text-center",children:[(0,a.jsx)(c.Z,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No rejected submissions"}),(0,a.jsx)("p",{className:"text-gray-500",children:"Rejected applications will appear here for review and resubmission."})]})})})]})]})}},2339:function(e,s,t){"use strict";t.d(s,{SP:function(){return d},dr:function(){return c},mQ:function(){return n},nU:function(){return x}});var a=t(7437),l=t(2265),r=t(1312),i=t(4508);let n=r.fC,c=l.forwardRef(({className:e,...s},t)=>(0,a.jsx)(r.aV,{ref:t,className:(0,i.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...s}));c.displayName=r.aV.displayName;let d=l.forwardRef(({className:e,...s},t)=>(0,a.jsx)(r.xz,{ref:t,className:(0,i.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...s}));d.displayName=r.xz.displayName;let x=l.forwardRef(({className:e,...s},t)=>(0,a.jsx)(r.VY,{ref:t,className:(0,i.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...s}));x.displayName=r.VY.displayName},8420:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9205).Z)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]])},9322:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9205).Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},1671:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9205).Z)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},1723:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9205).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},5252:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9205).Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},4743:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9205).Z)("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]])},2369:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9205).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])}},function(e){e.O(0,[73,596,270,312,452,971,117,744],function(){return e(e.s=2629)}),_N_E=e.O()}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[853],{8418:function(e,s,a){Promise.resolve().then(a.bind(a,2771))},2771:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return g}});var t=a(7437),l=a(2265),c=a(91),r=a(9397),i=a(3041),n=a(9345),x=a(5252),d=a(3247),h=a(8420),m=a(3774),o=a(1047),u=a(2869),j=a(5186),p=a(6070),N=a(5974),f=a(3647);function g(){let[e,s]=(0,l.useState)([]),[a,g]=(0,l.useState)(!0),[y,v]=(0,l.useState)(""),[b,w]=(0,l.useState)("all"),[Z,k]=(0,l.useState)("all");(0,l.useEffect)(()=>{C()},[]);let C=async()=>{try{let e=await fetch("/api/prospects");if(e.ok){let a=await e.json();s(a.prospects||[])}}catch(e){console.error("Error fetching prospects:",e)}finally{g(!1)}},S=e?.filter(e=>{let s=e?.businessName?.toLowerCase().includes(y?.toLowerCase())||e?.contactName?.toLowerCase().includes(y?.toLowerCase())||e?.city?.toLowerCase().includes(y?.toLowerCase()),a="all"===b||e?.status===b,t="all"===Z||e?.businessType===Z;return s&&a&&t})||[],A=e=>{switch(e?.toLowerCase()){case"new":return"bg-blue-100 text-blue-800";case"contacted":return"bg-yellow-100 text-yellow-800";case"qualified":return"bg-green-100 text-green-800";case"unqualified":return"bg-red-100 text-red-800";case"converted":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},Q=e=>e>=80?"text-green-600":e>=60?"text-yellow-600":"text-red-600";return a?(0,t.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(c.Z,{className:"h-8 w-8 animate-spin mx-auto mb-2 text-blue-600"}),(0,t.jsx)("p",{className:"text-gray-500",children:"Loading prospects..."})]})}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"PipelinePro OS Prospect Database"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Manage and track multi-industry business prospects"})]}),(0,t.jsxs)(u.z,{className:"bg-blue-600 hover:bg-blue-700",children:[(0,t.jsx)(r.Z,{className:"h-4 w-4 mr-2"}),"Add Prospect"]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,t.jsx)(p.Zb,{children:(0,t.jsx)(p.aY,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(c.Z,{className:"h-5 w-5 text-blue-600"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-2xl font-bold",children:e?.length||0}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Total Prospects"})]})]})})}),(0,t.jsx)(p.Zb,{children:(0,t.jsx)(p.aY,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(i.Z,{className:"h-5 w-5 text-green-600"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-2xl font-bold",children:e?.filter(e=>e?.status==="qualified")?.length||0}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Qualified"})]})]})})}),(0,t.jsx)(p.Zb,{children:(0,t.jsx)(p.aY,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(n.Z,{className:"h-5 w-5 text-yellow-600"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-2xl font-bold",children:e?.filter(e=>e?.status==="contacted")?.length||0}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"In Progress"})]})]})})}),(0,t.jsx)(p.Zb,{children:(0,t.jsx)(p.aY,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(x.Z,{className:"h-5 w-5 text-purple-600"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-2xl font-bold",children:e?.filter(e=>e?.status==="converted")?.length||0}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Converted"})]})]})})})]}),(0,t.jsx)(p.Zb,{children:(0,t.jsx)(p.aY,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(d.Z,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),(0,t.jsx)(j.I,{placeholder:"Search prospects by name, business, or location...",value:y,onChange:e=>v(e.target.value),className:"pl-10"})]})}),(0,t.jsxs)(f.Ph,{value:b,onValueChange:w,children:[(0,t.jsx)(f.i4,{className:"w-full md:w-48",children:(0,t.jsx)(f.ki,{placeholder:"Filter by status"})}),(0,t.jsxs)(f.Bw,{children:[(0,t.jsx)(f.Ql,{value:"all",children:"All Statuses"}),(0,t.jsx)(f.Ql,{value:"new",children:"New"}),(0,t.jsx)(f.Ql,{value:"contacted",children:"Contacted"}),(0,t.jsx)(f.Ql,{value:"qualified",children:"Qualified"}),(0,t.jsx)(f.Ql,{value:"unqualified",children:"Unqualified"}),(0,t.jsx)(f.Ql,{value:"converted",children:"Converted"})]})]}),(0,t.jsxs)(f.Ph,{value:Z,onValueChange:k,children:[(0,t.jsx)(f.i4,{className:"w-full md:w-48",children:(0,t.jsx)(f.ki,{placeholder:"Filter by type"})}),(0,t.jsxs)(f.Bw,{children:[(0,t.jsx)(f.Ql,{value:"all",children:"All Types"}),(0,t.jsx)(f.Ql,{value:"RESTAURANT",children:"Restaurant"}),(0,t.jsx)(f.Ql,{value:"BEAUTY_SALON",children:"Beauty Salon"}),(0,t.jsx)(f.Ql,{value:"AUTO_REPAIR",children:"Auto Repair"}),(0,t.jsx)(f.Ql,{value:"FITNESS_GYM",children:"Fitness Gym"}),(0,t.jsx)(f.Ql,{value:"PET_GROOMING",children:"Pet Grooming"}),(0,t.jsx)(f.Ql,{value:"RETAIL_STORE",children:"Retail Store"}),(0,t.jsx)(f.Ql,{value:"DENTAL_PRACTICE",children:"Dental Practice"}),(0,t.jsx)(f.Ql,{value:"CONSULTING",children:"Consulting"})]})]})]})})}),(0,t.jsx)("div",{className:"grid gap-4",children:S?.length===0?(0,t.jsx)(p.Zb,{children:(0,t.jsxs)(p.aY,{className:"p-8 text-center",children:[(0,t.jsx)(c.Z,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No prospects found"}),(0,t.jsx)("p",{className:"text-gray-500 mb-4",children:y||"all"!==b||"all"!==Z?"Try adjusting your filters to see more results.":"Start building your prospect database by adding new business prospects."}),(0,t.jsxs)(u.z,{className:"bg-blue-600 hover:bg-blue-700",children:[(0,t.jsx)(r.Z,{className:"h-4 w-4 mr-2"}),"Add First Prospect"]})]})}):S?.map(e=>t.jsx(p.Zb,{className:"hover:shadow-md transition-shadow",children:t.jsx(p.aY,{className:"p-6",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[t.jsx("div",{className:"bg-blue-100 p-2 rounded-lg",children:t.jsx(h.Z,{className:"h-5 w-5 text-blue-600"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e?.businessName}),t.jsx("p",{className:"text-gray-600",children:e?.contactName})]}),t.jsx(N.C,{className:A(e?.status),children:e?.status||"New"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(m.Z,{className:"h-4 w-4 text-gray-400"}),t.jsxs("span",{className:"text-sm text-gray-600",children:[e?.city,", ",e?.state]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(i.Z,{className:"h-4 w-4 text-gray-400"}),t.jsx("span",{className:"text-sm text-gray-600",children:e?.phone})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(x.Z,{className:"h-4 w-4 text-gray-400"}),t.jsxs("span",{className:"text-sm text-gray-600",children:["$",e?.monthlyRevenue?.toLocaleString(),"/mo"]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(o.Z,{className:"h-4 w-4 text-gray-400"}),t.jsx("span",{className:"text-sm text-gray-600",children:e?.lastContact?new Date(e.lastContact).toLocaleDateString():"No contact"})]})]}),t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Qualification Score:"}),t.jsxs("span",{className:`text-sm font-medium ${Q(e?.qualificationScore||0)}`,children:[e?.qualificationScore||0,"%"]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Type:"}),t.jsx("span",{className:"text-sm font-medium text-gray-900",children:e?.businessType?.replace("_"," ")||"Unknown"})]})]})]}),t.jsxs("div",{className:"flex flex-col space-y-2 ml-4",children:[t.jsxs(u.z,{size:"sm",variant:"outline",children:[t.jsx(i.Z,{className:"h-4 w-4 mr-2"}),"Call"]}),t.jsxs(u.z,{size:"sm",variant:"outline",children:[t.jsx(n.Z,{className:"h-4 w-4 mr-2"}),"Email"]})]})]})})},e?.id))})]})}},8420:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});let t=(0,a(9205).Z)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]])},91:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});let t=(0,a(9205).Z)("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]])},5252:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});let t=(0,a(9205).Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},9345:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});let t=(0,a(9205).Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},3774:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});let t=(0,a(9205).Z)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},3041:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});let t=(0,a(9205).Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])}},function(e){e.O(0,[73,596,270,452,971,117,744],function(){return e(e.s=8418)}),_N_E=e.O()}]);